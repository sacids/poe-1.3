{% extends 'base.html' %}
{% load crispy_forms_field %}
{% load crispy_forms_filters %}
{% load crispy_forms_tags %}
{% load static %}
{#{% load sweetify %}#}
{#{% sweetify %}#}
{% block title %}Travellers Surveillance{% endblock %}

{% block content %}
{% include 'travellers/add_countries.html' %}
<!-- Page content -->
<div class="page-content bg-white">
    <!-- Main content -->
    <div class="content-wrapper">
        <!-- Page header -->
        <div class="page-header">
            <div class="container-fluid">
                <div class="page-header-content">
                    <div class="page-title d-flex">
                        <div class="img">
                            <img src="{% static 'img/CoatofArms_Lg.png' %}" alt="" />
                        </div>
                        <!--./img -->

                        <div id="content">
                            <h1>The United Republic of Tanzania</h1>
                            <h3 class="d-none d-md-block">MINISTRY OF HEALTH, COMMUNITY DEVELOPMENT, GENDER, ELDERLY
                                AND CHILDREN</h3>
                            <h4 class="d-block d-sm-none">MoHCDGEC</h4>
                        </div>
                        <!--./content -->
                    </div>
                    <!--./page-title -->
                </div>
                <!--./page-header-content -->
            </div>
            <!--./container-fluid -->
        </div><!-- /page header -->

        <!-- Content area -->
        <div class="content">
            <!-- Basic card -->
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title text-uppercase text-center font-weight-bold">
                        International Travellers Surveillance Form
                    </h5>
{#                    {% for message in messages %}#}
{#                    <div class="alert {{ message.tags }} alert-dismissible">#}
{#                        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">#}
{#                            &times;#}
{#                        </button>#}
{#                        {{ message }}#}
{#                    </div>#}
{#                    {% endfor %}#}
                </div>
                <!--./card-header -->

                <div class="card-body">
                    <div class="row">
                        <div class="col-md-12">

                            <!-- Circles which indicates the steps of the form: -->
                            <div style="text-align:center; margin-bottom: 10px;">
                                <span class="step"></span>
                                <span class="step"></span>
                                <span class="step"></span>
                                <span class="step"></span>
                                <span class="step"></span>
                                <span class="step"></span>
                            </div>

                            <form id="regForm" action="" method="post" role="form" autocomplete="off">
                                {% csrf_token %}

                                <input type="hidden" id="base_url" name="base_url" value="{{ request.get_host }}" />

                                <div class="tab" id="tab1">
                                    <div class="row">
                                        <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                            <h6 class="title font-weight-bold">Traveller Information</h6>
                                        </div>
                                        <!--./col-lg-6 -->
                                    </div>
                                    <!--./row -->

                                    <div class="row">
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                            <div class="form-group">
                                                {{ form.full_name|as_crispy_field }}
                                                <span id="errorName" style="color: red;"></span>
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-6 -->

                                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                            <div class="form-group">
                                                {{ form.age|as_crispy_field }}
                                                <span id="errorAge" style="color: red;"></span>
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-6 -->
                                    </div>
                                    <!--./row -->

                                    <div class="row">
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                            <div class="form-group">
                                                {{ form.sex|as_crispy_field }}
                                                <span id="errorSex" style="color: red;"></span>
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-6 -->

                                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                            <div class="form-group">
                                                {{ form.nationality|as_crispy_field }}
                                                <span id="errorNationality" style="color: red;"></span>
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-6 -->
                                    </div>
                                    <!--./row -->

                                    <div class="row">
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                            <div class="form-group">
                                                {{ form.id_number|as_crispy_field }}
                                                <span id="errorIdNumber" style="color: red;"></span>
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-6 -->

                                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                            <div class="form-group">
                                                {{ form.arrival_date|as_crispy_field }}
                                                <span id="errorArrivalDate" style="color: red;"></span>
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-6 -->
                                    </div>
                                    <!--./row -->

                                    <div class="row">
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                            <div class="form-group">
                                                {{ form.mode_of_transport|as_crispy_field }}
                                                <span id="errorModeOfTransport" style="color: red;"></span>
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-6 -->

                                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                            <div class="form-group">
                                                {{ form.point_of_entry|as_crispy_field }}
                                                <span id="errorPointOfEntry" style="color: red;"></span>
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-6 -->
                                    </div>
                                    <!--./row -->

                                    <div class="row">
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                            <div class="form-group">
                                                {{ form.name_of_transport|as_crispy_field }}
                                                <span id="errorNameOfTransport" style="color: red;"></span>
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-6 -->

                                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                            <div class="form-group">
                                                {{ form.seat_no|as_crispy_field }}
                                                <span id="errorSeatNo" style="color: red;"></span>
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-6 -->
                                    </div>
                                    <!--./row -->
                                </div>
                                <!--./tab -->

                                <div class="tab" id="tab2">
                                    <div class="row">
                                        <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                            <div class="form-group">
                                                {{ form.visiting_purpose|as_crispy_field }}
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-6 -->
                                    </div>
                                    <!--./row -->

                                    <div class="row">
                                        <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                            <div class="form-group">
                                                {{ form.other_purpose|as_crispy_field }}
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-6 -->
                                    </div>
                                    <!--./row -->

                                    <div class="row">
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                            <div class="form-group">
                                                {{ form.duration_of_stay|as_crispy_field }}
                                                <span id="errorDurationOfStay" style="color: red;"></span>
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-6 -->

                                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                            <div class="form-group">
                                                {{ form.employment|as_crispy_field }}
                                                <span id="errorEmployment" style="color: red;"></span>
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-6 -->
                                    </div>
                                    <!--./row -->

                                    <div class="row">
                                        <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                            <div class="form-group">
                                                {{ form.other_employment|as_crispy_field }}
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-6 -->
                                    </div>
                                    <!--./row -->
                                </div>
                                <!--./tab -->

                                <div class="tab" id="tab3">
                                    <div class="row">
                                        <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                            <h6 class="title">Contact while in Tanzania</h6>
                                        </div>
                                        <!--./col-lg-6 -->
                                    </div>
                                    <!--./row -->

                                    <div class="row">
                                        <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                            <div class="form-group">
                                                {{ form.physical_address|as_crispy_field }}
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-6 -->

                                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                            <div class="form-group">
                                                {{ form.hotel_name|as_crispy_field }}
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-6 -->

                                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                            <div class="form-group">
                                                {{ form.region_id|as_crispy_field }}
                                                <span id="errorRegion" style="color: red;"></span>
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-6 -->

                                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                            <div class="form-group">
                                                {{ form.district_id|as_crispy_field }}
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-6 -->

                                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                            <div class="form-group">
                                                {{ form.street_or_ward|as_crispy_field }}
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-6 -->

                                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                            <div class="form-group">
                                                {{ form.phone|as_crispy_field }}
                                                <span id="errorPhone" style="color: red;"></span>
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-6 -->

                                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                            <div class="form-group">
                                                {{ form.email|as_crispy_field }}
                                                <span id="errorEmail" style="color: red;"></span>
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-6 -->
                                    </div>
                                    <!--./row -->
                                </div>
                                <!--./tab -->

                                <div class="tab">
                                    <div class="row">
                                        <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                            <div class="form-group">
                                                {{ form.location_origin|as_crispy_field }}
                                                <span id="errorLocationOrigin" style="color: red;"></span>
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-6 -->
                                    </div>
                                    <!--./row -->

                                    <div class="row">
                                        <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                            <h6 class="title">Countries visited in last 21 days (3 weeks)</h6>
                                        </div>
                                        <!--./col-lg-6 -->
                                    </div>
                                    <!--./row -->

                                    <div class="row field_wrapper">
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                            <div class="form-group">
                                                {{ form.location|as_crispy_field }}
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-2 -->

                                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                            <div class="form-group">
                                                {{ form.location_visited|as_crispy_field }}
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-2 -->

                                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                            <div class="form-group">
                                                {{ form.date|as_crispy_field }}
                                                <span id="errorDate" style="color: red;"></span>
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-6 -->

                                        <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                                            <div class="form-group">
                                                {{ form.days|as_crispy_field }}
                                                <span id="errorDays" style="color: red;"></span>
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-2 -->
                                    </div>
                                    <!--./row -->

                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="pull-right">
                                                <a href="javascript:void(0);" class="add_button btn btn-info btn-sm"
                                                    title="Add field">
                                                    Add Another
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--./tab-->

                                <div class="tab" id="tab5">
                                    <div class="row">
                                        <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                            <h6 class="title">Have you experienced the following conditions during
                                                the last 7 days (1 week)?</h6>
                                        </div>
                                        <!--./col-lg-6 -->
                                    </div>
                                    <!--./row -->

                                    <div class="row">
                                        <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                            <div class="form-group">
                                                <p>Please, mark/tick all the clinical manifestations that you have
                                                    experienced during the last 7 days (1 week)</p>

                                                {{ form.symptoms }}
                                                <span id="errorSymptoms" style="color: red;"></span>
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-12 -->
                                    </div>
                                    <!--./row -->

                                    <div class="row">
                                        <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                            <div class="form-group">
                                                {{ form.other_symptoms|as_crispy_field }}
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-2 -->
                                    </div>
                                    <!--./row -->
                                </div>
                                <!--./tab-->

                                <div class="tab" id="tab5">
                                    <div class="row">
                                        <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                            <h6 class="font-weight-bold">Declarations of filled information</h6>
                                        </div>
                                        <!--./col-lg-6 -->
                                    </div>
                                    <!--./row -->

                                    <div class="row mt-2">
                                        <div class="col-lg-12 col-md-12 col-sm-12 col-12">
                                            <div class="form-group">
                                                <input type="checkbox" name="accept" id="accept" value="1"> I declare that the
                                                information provided is complete and correct to
                                                the best of my knowledge. I understand that any false information
                                                supplied could lead to fine.
                                                <span id="errorAccept" style="color: red;"></span>
                                            </div>
                                            <!--./form-group -->
                                        </div>
                                        <!--./col-lg-12 -->
                                    </div>
                                    <!--./row -->
                                </div>
                                <!--./tab-->


                                <div class="row" style="overflow:auto;">
                                    <div class="col-md-12 col-12">
                                        <div class="form-group">
                                            <button type="button" class="btn btn-primary btn-xs" id="prevBtn"
                                                onclick="nextPrev(-1)">Previous
                                            </button>
                                            <button type="button" class="btn btn-secondary btn-xs" id="nextBtn"
                                                onclick="nextPrev(1)">Next
                                            </button>
                                        </div>
                                    </div>
                                    <!--./col-md-12 -->
                                </div>
                                <!--./row -->
                            </form>
                        </div>
                        <!--./col-md-12 -->
                    </div>
                    <!--./row -->
                </div>
                <!--./card-body -->
            </div><!-- /basic card -->
        </div><!-- /content area -->
    </div><!-- /main content -->
</div><!-- /page content -->
{% include 'travellers/validation.html' %}
<script type="text/javascript">
    //disabling past date from datepicker
    let nowDate = new Date();
    let today = new Date(nowDate.getFullYear(), nowDate.getMonth(), nowDate.getDate(), 0, 0, 0, 0);

    //arrival date
    $('#arrival_date').datepicker({
        format: 'yyyy-mm-dd',
        startDate: today,
        endDate: '+5d',
        autoclose: true
    });

    //date
    $("input[id=datepicker]").datepicker(
        {
            format: 'yyyy-mm-dd',
            startDate: "-21d",
            endDate: "-1d",
            autoclose: true
        }
    );

</script>

{% endblock %}